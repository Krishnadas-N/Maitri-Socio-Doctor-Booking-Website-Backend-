"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.authMiddleWare = void 0;
const mongodbAdminDataSource_1 = require("../../data/data-sources/mongodb/mongodbAdminDataSource");
const mongodbDoctorDataSource_1 = require("../../data/data-sources/mongodb/mongodbDoctorDataSource");
const mongodbUserDataSource_1 = require("../../data/data-sources/mongodb/mongodbUserDataSource");
const adminRepository_1 = require("../../domain/repositories/adminRepository");
const doctorRepository_1 = require("../../domain/repositories/doctorRepository");
const userRepository_1 = require("../../domain/repositories/userRepository");
const jwtAuthenticationMiddleware_1 = require("../../middlewares/jwtAuthenticationMiddleware");
const adminDataSource = new mongodbAdminDataSource_1.AdminDataSource();
const adminRepository = new adminRepository_1.AdminRepository(adminDataSource);
const userDataSource = new mongodbUserDataSource_1.MongoDbUserDataSource();
const userRepositoryImpl = new userRepository_1.UserRepository(userDataSource);
const doctorDataSource = new mongodbDoctorDataSource_1.MongoDbDoctorDataSourceImpl();
const doctorRepo = new doctorRepository_1.IDoctorRepositoryImpl(doctorDataSource);
exports.authMiddleWare = new jwtAuthenticationMiddleware_1.AuthMiddleware(userRepositoryImpl, doctorRepo, adminRepository);
