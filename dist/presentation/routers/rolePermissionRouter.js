"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.roleRouter = void 0;
const express_1 = require("express");
const mongodbRolePermissionDataSource_1 = require("../../data/data-sources/mongodb/mongodbRolePermissionDataSource");
const rolePermissionRepository_1 = require("../../domain/repositories/rolePermissionRepository");
const roleUsecase_1 = require("../../domain/use-cases/roleUsecase");
const roleController_1 = require("../controllers/roleController");
exports.roleRouter = (0, express_1.Router)();
const roleDataSource = new mongodbRolePermissionDataSource_1.RoleModelImpl();
const roleRepository = new rolePermissionRepository_1.RoleRepository(roleDataSource);
const roleUseCase = new roleUsecase_1.RoleUseCase(roleRepository);
const roleController = new roleController_1.RoleController(roleUseCase);
exports.roleRouter.post('/', roleController.createRole.bind(roleController));
exports.roleRouter.delete('/:id', roleController.deleteRole.bind(roleController));
exports.roleRouter.get('/', roleController.getAllRoles.bind(roleController));
exports.roleRouter.get('/roles/:id', roleController.getRoleDetails.bind(roleController));
exports.roleRouter.put('/roles/:id', roleController.updateRoleDetails.bind(roleController));
exports.roleRouter.post('/users/:userId/roles', roleController.assignRolesToUser.bind(roleController));
